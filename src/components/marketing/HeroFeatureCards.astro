---
import { IconBolt, IconCommandLine, IconMoon, IconSparkles } from '../icons';

type Card = {
  title: string;
  description: string;
  accent: 'purple' | 'pink' | 'blue' | 'green';
  icon: 'spark' | 'bolt' | 'moon' | 'terminal';
};

interface Props {
  cards?: Card[];
}

const defaultCards: Card[] = [
  {
    title: 'Config Generator',
    description: 'No-code config creation with secure defaults and best practices built-in.',
    accent: 'purple',
    icon: 'spark',
  },
  {
    title: 'Fast Setup',
    description:
      'Step-by-step guides for Mac, VPS, Docker, and more â€” optimized for first success.',
    accent: 'pink',
    icon: 'bolt',
  },
  {
    title: 'Light & Dark UI',
    description: 'A polished experience with accessible components and theme-aware design tokens.',
    accent: 'blue',
    icon: 'moon',
  },
  {
    title: 'Troubleshooting',
    description: 'Searchable fixes and battle-tested checklists to resolve issues quickly.',
    accent: 'green',
    icon: 'terminal',
  },
];

const { cards = defaultCards } = Astro.props;

const accentStyles = {
  purple: {
    ring: 'bg-purple-500/10 text-purple-400',
    glow: 'from-purple-500/15',
  },
  pink: {
    ring: 'bg-pink-500/10 text-pink-400',
    glow: 'from-pink-500/15',
  },
  blue: {
    ring: 'bg-blue-500/10 text-blue-400',
    glow: 'from-blue-500/15',
  },
  green: {
    ring: 'bg-emerald-500/10 text-emerald-400',
    glow: 'from-emerald-500/15',
  },
} as const;
---

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
  {
    cards.map((card) => {
      const accent = accentStyles[card.accent];

      return (
        <div class="relative overflow-hidden group m-card-surface m-card-hover-border m-card-hover-lift p-6">
          <div
            class={`pointer-events-none absolute -top-24 -left-24 h-48 w-48 rounded-full blur-3xl bg-gradient-to-br ${accent.glow} to-transparent`}
          />

          <div class="relative z-10 flex flex-col gap-3">
            <div class="flex items-center gap-3">
              <div class={`h-10 w-10 rounded-full flex items-center justify-center ${accent.ring}`}>
                {card.icon === 'spark' && <IconSparkles className="h-5 w-5" aria-hidden="true" />}
                {card.icon === 'bolt' && <IconBolt className="h-5 w-5" aria-hidden="true" />}
                {card.icon === 'moon' && <IconMoon className="h-5 w-5" aria-hidden="true" />}
                {card.icon === 'terminal' && (
                  <IconCommandLine className="h-5 w-5" aria-hidden="true" />
                )}
              </div>
              <h3 class="font-semibold text-foreground text-base tracking-tight">{card.title}</h3>
            </div>

            <p class="text-sm leading-relaxed text-default-800 dark:text-default-600">
              {card.description}
            </p>
          </div>
        </div>
      );
    })
  }
</div>
