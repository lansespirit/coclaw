---
import Section from '../layout/Section.astro';
import FeaturesBackground from './backgrounds/FeaturesBackground.astro';
import { IconArrowDown, IconCheck, IconInfoSolid, IconShieldCheckSolid } from '../icons';
---

<Section containerClass="space-y-32">
  <!-- Multi-Platform Integration Section -->
  <div>
    <div class="mb-16 max-w-2xl">
      <h2
        class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/60 mb-6"
      >
        Connect Your Favorite <br />
        <span class="text-success-600 dark:text-success">Messaging Apps</span>
      </h2>
      <p class="text-xl text-default-800 dark:text-default-600">
        OpenClaw works with the messaging apps you already use, bringing AI help to wherever you
        chat. Set up WhatsApp, Telegram, Discord, Slack, and more with step-by-step guides.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
      <!-- Feature List -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        {
          [
            'WhatsApp (via Baileys)',
            'Telegram Bot API',
            'Discord Integration',
            'Slack Workspace',
            'iMessage (macOS)',
            'Signal, Teams, Google Chat',
          ].map((item) => (
            <div class="group m-pill p-4 flex items-center gap-4 cursor-default">
              <div class="w-8 h-8 rounded-lg bg-content2 flex items-center justify-center group-hover:bg-success/20 group-hover:text-success transition-colors">
                <IconCheck className="w-5 h-5" aria-hidden="true" />
              </div>
              <span class="font-medium text-foreground/80 group-hover:text-foreground transition-colors">
                {item}
              </span>
            </div>
          ))
        }
      </div>

      <!-- Platform Visual -->
      <div
        class="relative h-[400px] rounded-3xl bg-gradient-to-br from-success-400 to-success-600 overflow-hidden flex items-center justify-center shadow-2xl shadow-success/15"
      >
        <div class="absolute top-4 right-4 animate-bounce">
          <IconInfoSolid className="w-6 h-6 text-foreground/40" aria-hidden="true" />
        </div>

        <!-- Channels Mockup -->
        <div
          class="relative m-card-glass rounded-xl p-2 w-64 scale-100 hover:scale-105 transition-transform duration-500"
        >
          <div class="px-2 py-1 mb-2">
            <span
              class="text-xs font-semibold text-default-900 dark:text-default-700 uppercase tracking-wider"
              >Connected Channels</span
            >
          </div>
          <div class="space-y-1">
            <div
              class="flex items-center justify-between p-2 rounded-lg hover:bg-content2 cursor-pointer group"
            >
              <div class="flex items-center gap-3">
                <div
                  class="w-8 h-8 rounded-full bg-success flex items-center justify-center text-success-foreground text-xs font-bold"
                >
                  W
                </div>
                <div class="flex flex-col">
                  <span class="text-sm font-medium text-foreground/90">WhatsApp</span>
                  <span class="text-[10px] text-default-800 dark:text-default-600"
                    >5 active chats</span
                  >
                </div>
              </div>
              <span class="w-2 h-2 rounded-full bg-success"></span>
            </div>

            <div
              class="flex items-center justify-between p-2 rounded-lg hover:bg-content2 cursor-pointer group"
            >
              <div class="flex items-center gap-3">
                <div
                  class="w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold"
                >
                  T
                </div>
                <div class="flex flex-col">
                  <span class="text-sm font-medium text-foreground/90">Telegram</span>
                  <span class="text-[10px] text-default-800 dark:text-default-600"
                    >3 active chats</span
                  >
                </div>
              </div>
              <span class="w-2 h-2 rounded-full bg-success"></span>
            </div>

            <div
              class="flex items-center justify-between p-2 rounded-lg hover:bg-content2 cursor-pointer group"
            >
              <div class="flex items-center gap-3">
                <div
                  class="w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-secondary-foreground text-xs font-bold"
                >
                  D
                </div>
                <div class="flex flex-col">
                  <span class="text-sm font-medium text-foreground/90">Discord</span>
                  <span class="text-[10px] text-default-800 dark:text-default-600">2 servers</span>
                </div>
              </div>
              <span class="w-2 h-2 rounded-full bg-success"></span>
            </div>
          </div>
        </div>

        <div class="absolute -top-6 left-1/2 -translate-x-1/2">
          <div
            class="px-3 py-1 bg-success/15 text-success-700 dark:text-success text-xs font-bold rounded-full border border-success/20"
          >
            Multi-Platform
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Privacy-First Architecture Section -->
  <div>
    <div class="mb-16 max-w-2xl">
      <h2
        class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/60 mb-6"
      >
        Your Data Stays <br />
        <span class="text-warning-600 dark:text-warning">on Your Device</span>
      </h2>
      <p class="text-xl text-default-800 dark:text-default-600">
        OpenClaw runs on your own computer or server—Mac, Linux, Windows, or even Raspberry Pi. Use
        Claude/GPT or local models: you choose. CoClaw is a community site and never needs access to
        your chats. Safer defaults (like one-time approvals for new chats) help keep things under
        your control.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Visual (Architecture Diagram) -->
      <div
        class="relative h-[400px] rounded-3xl bg-gradient-to-br from-warning-400 to-danger-500 p-8 flex items-center justify-center shadow-2xl shadow-warning/15"
      >
        <div
          class="w-full max-w-md bg-background/20 backdrop-blur-md rounded-3xl p-6 border border-divider shadow-xl"
        >
          <div class="flex flex-col gap-4">
            <!-- Gateway -->
            <div class="flex items-center justify-center">
              <div
                class="bg-primary text-primary-foreground px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-primary/20"
              >
                Gateway (Local)
              </div>
            </div>

            <!-- Arrow Down -->
            <div class="flex justify-center">
              <IconArrowDown className="w-6 h-6 text-white" aria-hidden="true" />
            </div>

            <!-- Channels -->
            <div class="grid grid-cols-3 gap-2">
              <div
                class="bg-success/80 text-success-foreground px-3 py-2 rounded-lg text-xs font-semibold text-center"
              >
                WhatsApp
              </div>
              <div
                class="bg-primary/80 text-primary-foreground px-3 py-2 rounded-lg text-xs font-semibold text-center"
              >
                Telegram
              </div>
              <div
                class="bg-secondary/80 text-secondary-foreground px-3 py-2 rounded-lg text-xs font-semibold text-center"
              >
                Discord
              </div>
            </div>

            <!-- Arrow Down -->
            <div class="flex justify-center">
              <IconArrowDown className="w-6 h-6 text-white" aria-hidden="true" />
            </div>

            <!-- AI Models -->
            <div class="flex items-center justify-center gap-2">
              <div
                class="bg-secondary text-secondary-foreground px-4 py-2 rounded-lg text-xs font-semibold"
              >
                Claude
              </div>
              <div
                class="bg-primary text-primary-foreground px-4 py-2 rounded-lg text-xs font-semibold"
              >
                GPT
              </div>
              <div
                class="bg-warning text-warning-foreground px-4 py-2 rounded-lg text-xs font-semibold"
              >
                Local
              </div>
            </div>

            <!-- Security Badge -->
            <div class="mt-2 flex items-center justify-center gap-2 text-white/80 text-xs">
              <IconShieldCheckSolid className="w-4 h-4" aria-hidden="true" />
              <span class="font-semibold">Local-First • Sandboxed • Secure</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Code Block -->
      <div
        class="relative h-[400px] rounded-3xl bg-content1 border border-divider overflow-hidden flex flex-col shadow-medium"
      >
        <div
          class="flex items-center justify-between px-6 py-4 border-b border-divider bg-content2"
        >
          <div class="flex gap-2">
            <div class="w-3 h-3 rounded-full bg-danger/25"></div>
            <div class="w-3 h-3 rounded-full bg-warning/25"></div>
            <div class="w-3 h-3 rounded-full bg-success/25"></div>
          </div>
          <span class="text-xs text-foreground-500">Quick Start</span>
        </div>
        <div class="p-6 font-mono text-sm leading-relaxed overflow-auto text-foreground">
          <span class="text-foreground-500"># Install OpenClaw</span><br />
          <span class="text-secondary-400">npm</span>
          <span class="text-foreground">install -g openclaw@latest</span><br /><br />
          <span class="text-foreground-500"># Run the guided setup</span><br />
          <span class="text-secondary-400">openclaw</span>
          <span class="text-foreground">onboard</span><br /><br />
          <span class="text-foreground-500"
            ># Follow the prompts to connect WhatsApp/Telegram/etc.</span
          ><br /><br />
          <span class="text-foreground-500"># Start chatting with your assistant</span><br />
          <span class="text-success-400"># Gateway runs locally on ws://127.0.0.1:18789</span>
        </div>
      </div>
    </div>
  </div>

  <FeaturesBackground slot="background" />
</Section>
