---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Section from '../../components/layout/Section.astro';
import {
  IconAkamai,
  IconCheck,
  IconDigitalOcean,
  IconServer,
  IconVultr,
} from '../../components/icons';

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const breadcrumbData = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, name: 'Home', item: 'https://coclaw.com/' },
    {
      '@type': 'ListItem',
      position: 2,
      name: 'Getting Started',
      item: 'https://coclaw.com/getting-started/',
    },
    { '@type': 'ListItem', position: 3, name: 'VPS', item: canonicalURL.toString() },
  ],
};

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'HowTo',
  name: 'How to Deploy OpenClaw on VPS',
  description:
    'Step-by-step guide to deploying OpenClaw AI assistant on VPS servers like DigitalOcean, Linode, and Vultr.',
  step: [
    {
      '@type': 'HowToStep',
      name: 'Choose VPS Provider',
      text: 'Select a VPS provider and create a server',
    },
    { '@type': 'HowToStep', name: 'Connect to Server', text: 'SSH into your VPS server' },
    {
      '@type': 'HowToStep',
      name: 'Install Dependencies',
      text: 'Install Node.js and required packages',
    },
    { '@type': 'HowToStep', name: 'Deploy OpenClaw', text: 'Install and configure OpenClaw' },
    {
      '@type': 'HowToStep',
      name: 'Setup Process Manager',
      text: 'Configure PM2 for automatic restarts',
    },
  ],
};
---

<BaseLayout
  title="Deploy OpenClaw on VPS - DigitalOcean, Linode, Vultr Setup Guide"
  description="Complete guide to deploying OpenClaw AI assistant on VPS servers. Step-by-step instructions for DigitalOcean, Linode, Vultr, and other VPS providers. Get 24/7 availability."
  keywords="OpenClaw VPS, deploy OpenClaw VPS, OpenClaw DigitalOcean, OpenClaw Linode, OpenClaw Vultr, VPS AI assistant, OpenClaw cloud deployment"
>
  <script type="application/ld+json" slot="head" set:html={JSON.stringify(structuredData)} />
  <script type="application/ld+json" slot="head" set:html={JSON.stringify(breadcrumbData)} />

  <div
    class="bg-background min-h-screen overflow-x-hidden relative selection:bg-pink-500/30 selection:text-pink-950 dark:selection:text-pink-200"
  >
    <div class="flex flex-col gap-16 pb-16">
      <Section py="pt-24 pb-12" containerClass="text-center">
        <div class="flex justify-center mb-6">
          <div
            class="w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center"
          >
            <IconServer className="w-12 h-12 text-white" aria-hidden="true" />
          </div>
        </div>
        <h1
          class="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"
        >
          Deploy OpenClaw on VPS
        </h1>
        <p class="text-xl text-default-800 dark:text-default-600 max-w-3xl mx-auto">
          Complete deployment guide for DigitalOcean, Linode, Vultr & more
        </p>
      </Section>

      <Section py="py-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold mb-6">VPS Requirements</h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Minimum Specifications</h3>
              <ul class="space-y-2 text-default-700 dark:text-default-500">
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>1 vCPU / 1GB RAM (basic usage)</span>
                </li>
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>10GB SSD storage</span>
                </li>
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>Ubuntu 20.04+ or Debian 11+</span>
                </li>
              </ul>
            </div>
            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Recommended Specifications</h3>
              <ul class="space-y-2 text-default-700 dark:text-default-500">
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>2 vCPU / 2GB RAM (production)</span>
                </li>
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>25GB SSD storage</span>
                </li>
                <li class="flex items-start gap-2">
                  <IconCheck
                    className="w-5 h-5 text-primary mt-0.5 flex-shrink-0"
                    aria-hidden="true"
                  />
                  <span>SSH access with root privileges</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </Section>

      <Section py="py-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold mb-8">Popular VPS Providers</h2>

          <div class="grid md:grid-cols-3 gap-6 mb-8">
            <div
              class="p-6 rounded-xl bg-content1 border border-divider hover:border-primary/50 transition-all"
            >
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center mb-4"
              >
                <IconDigitalOcean className="w-6 h-6 text-white" aria-hidden="true" />
              </div>
              <h3 class="text-xl font-bold mb-2">DigitalOcean</h3>
              <p class="text-default-700 dark:text-default-500 text-sm mb-3">
                Starting at $6/month • Easy setup • Great documentation
              </p>
              <a
                href="https://www.digitalocean.com/"
                target="_blank"
                rel="noopener"
                class="text-primary hover:underline text-sm"
              >
                Visit DigitalOcean →
              </a>
            </div>

            <div
              class="p-6 rounded-xl bg-content1 border border-divider hover:border-primary/50 transition-all"
            >
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center mb-4"
              >
                <IconAkamai className="w-6 h-6 text-white" aria-hidden="true" />
              </div>
              <h3 class="text-xl font-bold mb-2">Linode</h3>
              <p class="text-default-700 dark:text-default-500 text-sm mb-3">
                Starting at $5/month • High performance • 24/7 support
              </p>
              <a
                href="https://www.linode.com/"
                target="_blank"
                rel="noopener"
                class="text-primary hover:underline text-sm"
              >
                Visit Linode →
              </a>
            </div>

            <div
              class="p-6 rounded-xl bg-content1 border border-divider hover:border-primary/50 transition-all"
            >
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center mb-4"
              >
                <IconVultr className="w-6 h-6 text-white" aria-hidden="true" />
              </div>
              <h3 class="text-xl font-bold mb-2">Vultr</h3>
              <p class="text-default-700 dark:text-default-500 text-sm mb-3">
                Starting at $6/month • Global locations • Fast deployment
              </p>
              <a
                href="https://www.vultr.com/"
                target="_blank"
                rel="noopener"
                class="text-primary hover:underline text-sm"
              >
                Visit Vultr →
              </a>
            </div>
          </div>
        </div>
      </Section>

      <Section py="py-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold mb-8">Step-by-Step VPS Deployment</h2>

          <div class="space-y-8">
            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  1
                </div>
                <h3 class="text-2xl font-bold">Create and Connect to VPS</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">
                    Create a new VPS instance with Ubuntu 22.04 LTS
                  </p>
                  <p class="text-default-700 dark:text-default-500 mb-2">Connect via SSH:</p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`ssh root@YOUR_VPS_IP
# Enter your password or use SSH key`}</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  2
                </div>
                <h3 class="text-2xl font-bold">Update System and Install Dependencies</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">Update system packages:</p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`sudo apt update && sudo apt upgrade -y
sudo apt install -y curl git build-essential`}</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  3
                </div>
                <h3 class="text-2xl font-bold">Install Node.js</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">Install Node.js 22:</p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -
sudo apt-get install -y nodejs
node --version  # Verify installation`}</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  4
                </div>
                <h3 class="text-2xl font-bold">Install OpenClaw</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">
                    Install OpenClaw and run the setup wizard:
                  </p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`npm install -g openclaw@latest
openclaw onboard --install-daemon
openclaw gateway status`}</code></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  5
                </div>
                <h3 class="text-2xl font-bold">Connect from Your Laptop (SSH Tunnel)</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">
                    By default the Gateway binds to loopback for safety. Use an SSH tunnel to access
                    the dashboard:
                  </p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`# On your laptop:
ssh -N -L 18789:127.0.0.1:18789 YOUR_USER@YOUR_VPS_IP

# On the VPS (prints a tokenized link; use --no-open on headless servers):
openclaw dashboard --no-open

# Then open the tokenized URL it prints (http://127.0.0.1:18789/?token=...)`}</code></pre>
                  </div>
                  <p class="text-sm text-default-600 mt-3">
                    If you open <code class="text-primary">http://127.0.0.1:18789/</code> and see “unauthorized”,
                    use the tokenized link from <code class="text-primary">openclaw dashboard</code
                    >.
                  </p>
                </div>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border-2 border-divider">
              <div class="flex items-center gap-4 mb-4">
                <div
                  class="w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-xl"
                >
                  6
                </div>
                <h3 class="text-2xl font-bold">Configure Firewall</h3>
              </div>
              <div class="space-y-4">
                <div>
                  <p class="text-default-700 dark:text-default-500 mb-2">Setup UFW firewall:</p>
                  <div class="rounded-lg bg-content2 p-4">
                    <pre
                      class="text-sm overflow-x-auto"><code>{`sudo ufw allow OpenSSH
sudo ufw enable`}</code></pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </Section>

      <Section py="py-8" containerClass="bg-content1/50">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold mb-8">Security Best Practices</h2>

          <div class="space-y-6">
            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Use SSH Keys Instead of Passwords</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Generate and use SSH keys for authentication:
              </p>
              <div class="rounded-lg bg-content2 p-4">
                <pre
                  class="text-sm overflow-x-auto"><code>{`# On your local machine:
ssh-keygen -t ed25519 -C "your_email@example.com"
ssh-copy-id root@YOUR_VPS_IP`}</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Disable Root Login</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Create a non-root user and disable root SSH access:
              </p>
              <div class="rounded-lg bg-content2 p-4">
                <pre
                  class="text-sm overflow-x-auto"><code>{`adduser openclaw
usermod -aG sudo openclaw
# Edit /etc/ssh/sshd_config: PermitRootLogin no
sudo systemctl restart sshd`}</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Setup Automatic Security Updates</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">Enable unattended upgrades:</p>
              <div class="rounded-lg bg-content2 p-4">
                <pre
                  class="text-sm overflow-x-auto"><code>{`sudo apt install unattended-upgrades
sudo dpkg-reconfigure --priority=low unattended-upgrades`}</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Use Environment Variables for Secrets</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Store sensitive data in environment variables:
              </p>
              <div class="rounded-lg bg-content2 p-4">
                <pre
                  class="text-sm overflow-x-auto"><code>{`# Create .env file
echo "BOT_TOKEN=your_token_here" > ~/.env
echo "API_KEY=your_api_key" >> ~/.env
chmod 600 ~/.env`}</code></pre>
              </div>
            </div>
          </div>
        </div>
      </Section>

      <Section py="py-8">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold mb-8">Monitoring and Maintenance</h2>

          <div class="grid md:grid-cols-2 gap-6">
            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Health Checks</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Check gateway health and service status:
              </p>
              <div class="rounded-lg bg-content2 p-3">
                <pre
                  class="text-sm"><code>{`openclaw gateway status
openclaw doctor
openclaw logs`}</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Restart the Service</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Restart the installed Gateway service:
              </p>
              <div class="rounded-lg bg-content2 p-3">
                <pre class="text-sm"><code>openclaw gateway restart</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Regular Updates</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">Keep OpenClaw updated:</p>
              <div class="rounded-lg bg-content2 p-3">
                <pre
                  class="text-sm"><code>{`npm i -g openclaw@latest
openclaw gateway restart`}</code></pre>
              </div>
            </div>

            <div class="p-6 rounded-xl bg-content1 border border-divider">
              <h3 class="text-xl font-bold mb-3">Backup Configuration</h3>
              <p class="text-default-700 dark:text-default-500 mb-3">
                Regularly backup your config:
              </p>
              <div class="rounded-lg bg-content2 p-3">
                <pre
                  class="text-sm"><code>{`cp ~/.openclaw/openclaw.json ~/.openclaw/openclaw.json.backup
# Also consider backing up the full state dir: ~/.openclaw/`}</code></pre>
              </div>
            </div>
          </div>
        </div>
      </Section>

      <Section py="py-8" containerClass="text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Next Steps</h2>
        <p class="text-default-800 dark:text-default-600 max-w-2xl mx-auto text-lg mb-8">
          Your OpenClaw instance is now running 24/7 on your VPS
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a
            href="/openclaw-config-generator"
            class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-primary text-primary-foreground hover:bg-primary/90 transition-colors font-semibold"
          >
            Configuration Generator
          </a>
          <a
            href="/resources"
            class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-content1 border border-divider hover:bg-content2 transition-colors font-semibold"
          >
            Browse Guides
          </a>
          <a
            href="/troubleshooting"
            class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-content1 border border-divider hover:bg-content2 transition-colors font-semibold"
          >
            Troubleshooting
          </a>
        </div>
      </Section>
    </div>
  </div>
</BaseLayout>
